<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
    <style>
      #controlHelpMeOut,
      .controlHelpMeOut {
        display: flex;
        justify-self: center;
        align-items: center;
        background-color: rgb(20, 20, 20);
        color: white;
        padding: 10px;
        padding-bottom: 0;
        height: 100px;
        width: max-content;
        border-radius: 100px;
        box-shadow: 0 0 5px 3px rgb(165, 150, 150);
        position: fixed;
        left: 50%;
        bottom: 5%;
        transform: translate(-50%, -50%);
        z-index: 1000000000;
      }

      .time {
        display: flex;
        gap: 2;
        justify-content: center;
        align-items: center;
        font-weight: 500;
        border-right: 1px solid white;
        padding: 0 20px;
        margin-right: 20px;
      }

      .dot {
        height: 8px;
        width: 8px;
        color: white;
        background-color: red;
        border-radius: 9999px;
        margin-left: 20px;
        box-shadow: 0 0 5px 3px rgb(149, 8, 8);
      }

      .btn-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .btn {
        display: grid;
        place-items: center;
        margin-right: 20px;
      }

      .btn > span {
        display: grid;
        place-content: center;
        height: 30px;
        width: 30px;
        border-radius: 9999px;
        background-color: aliceblue;
        color: #120b48;
        cursor: pointer;
      }

      .btn > p {
        font-size: 12px;
        font-weight: 500;
      }

      .last > span {
        background-color: gray;
      }

      .play {
        height: 20px;
        width: 20px;
      }
    </style>
  </head>

  <body>
    <div id="controlHelpMeOut">
      <div class="time">
        <p>00:00:00</p>
        <span class="dot"></span>
      </div>

      <div class="btn-wrapper">
        <div class="btn">
          <span><img src="/pause.svg" class="pause" /></span>
          <p>Pause</p>
        </div>

        <div class="btn">
          <span><img src="/play.svg" class="play" /></span>
          <p>Play</p>
        </div>

        <div class="btn">
          <span><img src="/stop.svg" class="stop" /></span>
          <p>Stop</p>
        </div>

        <div class="btn">
          <span><img src="/video.svg" /></span>
          <p>Video</p>
        </div>

        <div class="btn">
          <span><img src="mic.svg" /></span>
          <p>Mic</p>
        </div>

        <div class="btn last">
          <span><img src="/trash.svg" class="trash" /></span>
        </div>
      </div>
    </div>
    <script>
      const playControl = document.querySelector(".play");
      const stopControl = document.querySelector(".stop");

      const stop = () => {
        chrome.tabs.query(
          { active: true, currentWindow: true },
          function (tabs) {
            if (tabs.length > 0) {
              chrome.tabs.sendMessage(
                tabs[0].id,
                { action: "stop" },
                function (response) {
                  playControl.addEventListener("click", () => {
                    console.log("play clicked");
                  });
                  stopControl.addEventListener("click", () => {
                    console.log("stop clicked");
                  });
                  if (!chrome.runtime.lastError) {
                    console.log(response);
                  } else {
                    console.error(chrome.runtime.lastError);
                  }
                }
              );
            } else {
              console.log("No active tab");
            }
          }
        );
      };
    </script>
  </body>
</html>
